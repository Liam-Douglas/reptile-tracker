{% extends "base.html" %}

{% block title %}Add Shed Record - Reptile Tracker{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h2 class="card-title">Add Shed Record</h2>
    </div>
    
    <form method="POST">
        <div class="form-group">
            <label class="form-label" for="reptile_id">Reptile *</label>
            <select id="reptile_id" name="reptile_id" class="form-select" required>
                <option value="">Select a reptile...</option>
                {% for reptile in reptiles %}
                    <option value="{{ reptile.id }}" {% if request.args.get('reptile_id') == reptile.id|string %}selected{% endif %}>
                        {{ reptile.name }} ({{ reptile.species }})
                    </option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label class="form-label" for="date">Date *</label>
            <input type="date" 
                   id="date" 
                   name="date" 
                   class="form-input" 
                   value="{{ record.date if record else '' }}" 
                   required>
        </div>

        <div class="form-group">
            <label class="form-label" for="complete">Was the shed complete? *</label>
            <select id="complete" name="complete" class="form-select" required>
                <option value="yes" {% if record and record.complete %}selected{% endif %}>Yes - Complete</option>
                <option value="no" {% if record and not record.complete %}selected{% endif %}>No - Partial/Stuck Shed</option>
            </select>
        </div>

        <div class="form-group">
            <label class="form-label" for="shed_length_cm">Shed Length (cm)</label>
            <input type="number" 
                   id="shed_length_cm" 
                   name="shed_length_cm" 
                   class="form-input" 
                   step="0.1"
                   placeholder="Optional - if measurable"
                   value="{{ record.shed_length_cm if record and record.shed_length_cm else '' }}">
            <small style="color: var(--text-secondary);">Measure the shed skin if possible</small>
        </div>

        <div class="form-group">
            <label class="form-label" for="notes">Notes</label>
            <textarea id="notes" 
                      name="notes" 
                      class="form-textarea" 
                      placeholder="Any observations about the shed...">{{ record.notes if record and record.notes else '' }}</textarea>
        </div>

        <div class="btn-group">
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-save"></i> Add Shed Record
            </button>
            <a href="{{ url_for('shed_records') }}" class="btn btn-secondary">
                <i class="fas fa-times"></i> Cancel
            </a>
        </div>
    </form>
</div>

<script>
    // Set today's date as default
    document.getElementById('date').valueAsDate = new Date();
</script>
{% endblock %}