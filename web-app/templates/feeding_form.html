{% extends "base.html" %}

{% block title %}Add Feeding Log - Reptile Tracker{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h2 class="card-title">Add Feeding Log</h2>
    </div>
    
    <form method="POST">
        <div class="form-group">
            <label class="form-label" for="reptile_id">Reptile *</label>
            <select id="reptile_id" name="reptile_id" class="form-select" required>
                <option value="">Select a reptile...</option>
                {% for reptile in reptiles %}
                    <option value="{{ reptile.id }}" {% if request.args.get('reptile_id') == reptile.id|string %}selected{% endif %}>
                        {{ reptile.name }} ({{ reptile.species }})
                    </option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label class="form-label" for="date">Date *</label>
            <input type="date" 
                   id="date" 
                   name="date" 
                   class="form-input" 
                   value="{{ log.date if log else '' }}" 
                   required>
        </div>

        <div class="form-group">
            <label class="form-label" for="food_type">Food Type *</label>
            <input type="text" 
                   id="food_type" 
                   name="food_type" 
                   class="form-input" 
                   placeholder="e.g., Mouse, Cricket, Dubia Roach"
                   value="{{ log.food_type if log else '' }}" 
                   required>
        </div>

        <div class="form-group">
            <label class="form-label" for="amount">Amount</label>
            <input type="text" 
                   id="amount" 
                   name="amount" 
                   class="form-input" 
                   placeholder="e.g., 1 adult, 10 crickets"
                   value="{{ log.amount if log and log.amount else '' }}">
        </div>

        <div class="form-group">
            <label class="form-label" for="ate">Did they eat? *</label>
            <select id="ate" name="ate" class="form-select" required>
                <option value="yes" {% if log and log.ate %}selected{% endif %}>Yes</option>
                <option value="no" {% if log and not log.ate %}selected{% endif %}>No</option>
            </select>
        </div>

        <div class="form-group">
            <label class="form-label" for="notes">Notes</label>
            <textarea id="notes" 
                      name="notes" 
                      class="form-textarea" 
                      placeholder="Any observations...">{{ log.notes if log and log.notes else '' }}</textarea>
        </div>

        <div class="btn-group">
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-save"></i> Add Feeding Log
            </button>
            <a href="{{ url_for('feeding_logs') }}" class="btn btn-secondary">
                <i class="fas fa-times"></i> Cancel
            </a>
        </div>
    </form>
</div>

<script>
    // Set today's date as default
    document.getElementById('date').valueAsDate = new Date();
</script>
{% endblock %}